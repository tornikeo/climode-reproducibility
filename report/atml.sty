%%%% ATML Report template
%%%% Adapted from TMLR to ease submission to MLRC
%%%% TMLR Macros (LaTex)
%%%% Adapted by Hugo Larochelle and Fabian Pedregosa from the 
%%%% ICLR stylefile Macros and borrowing from the JMLR Macros
%%%% Style File

%%%% Last edited, January 2021 by Chris J. Maddison
%%%%      Change font choice

% Change the overall width of the page.  If these parameters are
%       changed, they will require corresponding changes in the
%       maketitle section.
%
\usepackage{eso-pic} % used by \AddToShipoutPicture
\RequirePackage{fancyhdr}
\RequirePackage{natbib}

\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{biolinum}

% modification to natbib citations
\setcitestyle{authoryear,round,citesep={;},aysep={,},yysep={;}}

\renewcommand{\topfraction}{0.95}   % let figure take up nearly whole page
\renewcommand{\textfraction}{0.05}  % let figure take up nearly whole page


%%%%%%%% Options
\newif\if@instructions\@instructionsfalse
\DeclareOption{instructions}{%
    \@instructionstrue
}
\DeclareOption*{\PackageWarning{atml}{Unknown ‘\CurrentOption’}}
\ProcessOptions\relax

% Instructions
\newcommand{\geninstr}{%
\noindent\fbox{%
\hspace{10pt}
\parbox{\dimexpr\linewidth-20pt\relax}{%
\section*{\centering \color{red!80!black} \underline{General Instructions}}

The report should be structured as an article aimed at presenting the findings of your work clearly and objectively. Your goal is to provide a well-supported analysis, backing up your claims with references or empirical/theoretical evidence where appropriate.\\

We recognize that conducting machine learning experiments can be challenging, and that final performance results may sometimes fall short of expectations. Therefore, your evaluation will not be based solely on the quantitative outcomes, but rather on the depth and quality of your analysis and the clarity of your report.\\

The report should be \textbf{4 to 8 pages} in length, excluding references and appendices. The section formatting provided below is \textbf{optional}; you may also organize your report in a way that best suits your work.\\

Your focus should be on providing insights that would be valuable for future researchers or practitioners, particularly for those looking to reproduce or build upon the paper you are analyzing.\\

\textbf{Useful resources:}
\begin{itemize}
    \item \href{https://reproml.org/blog/announcing_mlrc2023/}{MLRC 2023 blog post}
    \item \href{https://koustuvsinha.com/practices_for_reproducibility/}{Best practices for reproducibility}
    \item \href{https://reproml.org/challenge_resources/}{MLRC resources}
\end{itemize}

\textit{\color{gray} This template has been adapted from the \href{https://www.overleaf.com/project/5f4e72de7681920001b208f9}{ML Reproducibility Challenge 2020 Template}.}
\vspace{5pt}}\hspace{10pt}}
\vspace{20pt}}

% Specify the dimensions of each page

\setlength{\paperheight}{11in}
\setlength{\paperwidth}{8.5in}


\oddsidemargin 0in    %   Note \oddsidemargin = \evensidemargin
\evensidemargin 0in
\marginparwidth 0.07 true in
%\marginparwidth 0.75 true in
%\topmargin 0 true pt           % Nominal distance from top of page to top of
%\topmargin 0.125in
\topmargin -0.625in
\addtolength{\headsep}{0.25in}
\textheight 9.0 true in       % Height of text (including footnotes & figures)
\textwidth 6.5 true in        % Width of text line.
\widowpenalty=10000
\clubpenalty=10000


% \thispagestyle{empty}        \pagestyle{empty}
\flushbottom \sloppy

% We're never going to need a table of contents, so just flush it to
% save space --- suggested by drstrip@sandia-2
\def\addcontentsline#1#2#3{}

% Title stuff, taken from deproc.
\def\maketitle{%
\if@instructions\geninstr\else\fi %
\par
\begingroup
   \def\thefootnote{\fnsymbol{footnote}}
   \def\@makefnmark{\hbox to 0pt{$^{\@thefnmark}$\hss}} % for perfect author
                                                        % name centering
%   The footnote-mark was overlapping the footnote-text,
%   added the following to fix this problem               (MK)
   \long\def\@makefntext##1{\parindent 1em\noindent
                            \hbox to1.8em{\hss $\m@th ^{\@thefnmark}$}##1}
   \@maketitle \@thanks
\endgroup
\setcounter{footnote}{0}
\let\maketitle\relax \let\@maketitle\relax
\gdef\@thanks{}\gdef\@author{}\gdef\@title{}\let\thanks\relax}

\newlength\aftertitskip     \newlength\beforetitskip
\newlength\interauthorskip  \newlength\aftermaketitskip

%% Changeable parameters.
\setlength\aftertitskip{0.3in plus 0.2in minus 0.2in}
\setlength\beforetitskip{0.05in plus 0.08in minus 0.08in}
\setlength\interauthorskip{0.08in plus 0.1in minus 0.1in}
\setlength\aftermaketitskip{0.3in plus 0.1in minus 0.1in}

\def\@startauthor{\noindent \normalsize\bf}
\def\@endauthor{}

\def\addr{\small\it}%
\def\email{\hfill\small\it}%
\def\name{\normalsize\bf}%
\def\name{\normalsize\bf}%
\def\AND{\@endauthor\\[.5em]\@startauthor}

% The toptitlebar has been raised to top-justify the first page

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\lhead{\sffamily Advanced Topics in Machine Learning, SA 2024/25}
\rhead{\sffamily \textbf{Group} \groupid~~$\cdot$~~\textbf{Project} \projectid}

% Title (includes both anonymized and non-anonymized versions)
\def\@maketitle{\vbox{\hsize\textwidth
%\linewidth\hsize \vskip 0.1in \toptitlebar \centering
{\LARGE\bf\sffamily \@title\par}\vskip \aftertitskip
%\bottomtitlebar % \vskip 0.1in %  minus
\@startauthor \@author \@endauthor
\vskip 0.3in minus 0.1in}}

\renewenvironment{abstract}{\vskip.075in\centerline{\large\bf\sffamily
Abstract}\vspace{0.5ex}\begin{quote}}{\par\end{quote}\vskip 1ex}

% sections with less space
\def\section{\@startsection {section}{1}{\z@}{-2.0ex plus
    -0.5ex minus -.2ex}{1.5ex plus 0.3ex
minus0.2ex}{\large\bf\raggedright\sffamily}}

\def\subsection{\@startsection{subsection}{2}{\z@}{-1.8ex plus
-0.5ex minus -.2ex}{0.8ex plus .2ex}{\normalsize\bf\raggedright\sffamily}}
\def\subsubsection{\@startsection{subsubsection}{3}{\z@}{-1.5ex
plus      -0.5ex minus -.2ex}{0.5ex plus
.2ex}{\normalsize\bf\raggedright\sffamily}}
\def\paragraph{\@startsection{paragraph}{4}{\z@}{1.5ex plus
0.5ex minus .2ex}{-1em}{\normalsize\bf}}
\def\subparagraph{\@startsection{subparagraph}{5}{\z@}{1.5ex plus
  0.5ex minus .2ex}{-1em}{\normalsize\bf}}
\def\subsubsubsection{\vskip
5pt{\noindent\normalsize\rm\raggedright\sffamily}}


% Footnotes
\footnotesep 6.65pt %
\skip\footins 9pt plus 4pt minus 2pt
\def\footnoterule{\kern-3pt \hrule width 12pc \kern 2.6pt }
\setcounter{footnote}{0}

% Lists and paragraphs
\parindent 0pt
\topsep 4pt plus 1pt minus 2pt
\partopsep 1pt plus 0.5pt minus 0.5pt
\itemsep 2pt plus 1pt minus 0.5pt
\parsep 2pt plus 1pt minus 0.5pt
\parskip .5pc


%\leftmargin2em
\leftmargin3pc
\leftmargini\leftmargin \leftmarginii 2em
\leftmarginiii 1.5em \leftmarginiv 1.0em \leftmarginv .5em

%\labelsep \labelsep 5pt

\def\@listi{\leftmargin\leftmargini}
\def\@listii{\leftmargin\leftmarginii
   \labelwidth\leftmarginii\advance\labelwidth-\labelsep
   \topsep 2pt plus 1pt minus 0.5pt
   \parsep 1pt plus 0.5pt minus 0.5pt
   \itemsep \parsep}
\def\@listiii{\leftmargin\leftmarginiii
    \labelwidth\leftmarginiii\advance\labelwidth-\labelsep
    \topsep 1pt plus 0.5pt minus 0.5pt
    \parsep \z@ \partopsep 0.5pt plus 0pt minus 0.5pt
    \itemsep \topsep}
\def\@listiv{\leftmargin\leftmarginiv
     \labelwidth\leftmarginiv\advance\labelwidth-\labelsep}
\def\@listv{\leftmargin\leftmarginv
     \labelwidth\leftmarginv\advance\labelwidth-\labelsep}
\def\@listvi{\leftmargin\leftmarginvi
     \labelwidth\leftmarginvi\advance\labelwidth-\labelsep}

\abovedisplayskip 7pt plus2pt minus5pt%
\belowdisplayskip \abovedisplayskip
\abovedisplayshortskip  0pt plus3pt%
\belowdisplayshortskip  4pt plus3pt minus3pt%


\def\toptitlebar{\hrule height4pt\vskip .25in\vskip-\parskip}

\def\bottomtitlebar{\vskip .29in\vskip-\parskip\hrule height1pt\vskip
.09in} %
